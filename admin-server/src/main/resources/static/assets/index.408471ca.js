var r;"undefined"!=typeof require&&require;import{D as e,r as o,S as t,$ as s,n as a,a0 as i,F as n,G as l,aa as d,ar as u,H as c,J as m,w as p,u as f,a5 as j,ad as y,L as b}from"./vendor.54f9b785.js";import{_ as g}from"./DetailModal.vue_vue&type=script&setup=true&lang.bf7646b8.js";import{u as v,_ as x}from"./useTable.2398f9db.js";import{_ as h}from"./useForm.142882e6.js";import{u as w}from"./index.0db43716.js";import{f as L,d as _,aa as E}from"./index.97957499.js";import{getColumns as C}from"./data.72e0c9e8.js";/* empty css              */import"./index.9c0c475d.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.fcde6c3c.js";import"./useWindowSizeFn.51649442.js";import"./useContentViewHeight.d5953322.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useSortable.8f994d07.js";/* empty css              *//* empty css              */(r||(r={})).Error="/error";const R={class:"p-4"},k=["src"];var D=e({setup(e){const D=o(),A=o([]),{t:T}=_(),F=E(),[M,{setTableData:S}]=v({title:T("sys.errorLog.tableTitle"),columns:C(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[q,{openModal:H}]=w();function I(r){D.value=r,H(!0)}function P(){throw new Error("fire vue error!")}function V(){A.value.push(`${(new Date).getTime()}.png`)}function $(){return e=this,o=null,t=function*(){yield L.get({url:r.Error})},new Promise(((r,s)=>{var a=r=>{try{n(t.next(r))}catch(e){s(e)}},i=r=>{try{n(t.throw(r))}catch(e){s(e)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,i);n((t=t.apply(e,o)).next())}));var e,o,t}return t((()=>F.getErrorLogInfoList),(r=>{s((()=>{S(a(r))}))}),{immediate:!0}),(r,e)=>{const o=i("a-button");return n(),l("div",R,[(n(!0),l(d,null,u(A.value,(r=>c((n(),l("img",{key:r,src:r},null,8,k)),[[m,!1]]))),128)),p(g,{info:D.value,onRegister:f(q)},null,8,["info","onRegister"]),p(f(x),{onRegister:f(M),class:"error-handle-table"},{toolbar:j((()=>[p(o,{onClick:P,type:"primary"},{default:j((()=>[y(b(f(T)("sys.errorLog.fireVueError")),1)])),_:1}),p(o,{onClick:V,type:"primary"},{default:j((()=>[y(b(f(T)("sys.errorLog.fireResourceError")),1)])),_:1}),p(o,{onClick:$,type:"primary"},{default:j((()=>[y(b(f(T)("sys.errorLog.fireAjaxError")),1)])),_:1})])),action:j((({record:r})=>[p(f(h),{actions:[{label:f(T)("sys.errorLog.tableActionDesc"),onClick:I.bind(null,r)}]},null,8,["actions"])])),_:1},8,["onRegister"])])}}});export{D as default};
