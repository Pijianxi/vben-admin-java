import{C as e,p as o,c as a,h as s,j as t,d as r,P as n}from"./index.29cb9d1e.js";import{D as i,az as l,aA as c,j as d,a0 as p,F as u,G as m,w as f,a5 as g,a1 as k,ac as x,K as h,N as _,L as C,aa as j}from"./vendor.54f9b785.js";import{c as b,u as w}from"./index.83a5ac4f.js";import{u as D}from"./index.9981dd62.js";import{h as L}from"./header.d801b988.js";import"./index.fc649792.js";import"./useWindowSizeFn.51649442.js";import"./useContentViewHeight.e2ebf036.js";/* empty css              *//* empty css              */import"./useSortable.15816348.js";import"./lock.fb37e799.js";var v=i({name:"UserDropdown",components:{Dropdown:l,Menu:c,MenuItem:b((()=>e((()=>import("./DropMenuItem.f170c93a.js")),["assets/DropMenuItem.f170c93a.js","assets/vendor.54f9b785.js","assets/vendor.bd035476.css","assets/index.29cb9d1e.js","assets/index.87cbc01e.css"]))),MenuDivider:c.Divider,LockAction:b((()=>e((()=>import("./LockModal.bb45babe.js")),["assets/LockModal.bb45babe.js","assets/LockModal.0068f88c.css","assets/index.55e05163.css","assets/index.ccc15a38.css","assets/index.35b5cf30.css","assets/index.c4896195.css","assets/index.553174f4.css","assets/index.317f90e2.css","assets/index.29cb9d1e.js","assets/index.87cbc01e.css","assets/vendor.54f9b785.js","assets/vendor.bd035476.css","assets/index.9981dd62.js","assets/index.b3b32c91.css","assets/useWindowSizeFn.51649442.js","assets/useForm.91b099eb.js","assets/useForm.db8a3c82.css","assets/lock.fb37e799.js","assets/header.d801b988.js"])))},props:{theme:o.oneOf(["dark","light"])},setup(){const{prefixCls:e}=a("header-user-dropdown"),{t:o}=r(),{getShowDoc:i,getUseLockPage:l}=w(),c=s(),p=t(),u=d((()=>{const{realName:e="",avatar:o,desc:a}=c.getUserInfo||{};return{realName:e,avatar:o||L,desc:a}})),[m,{openModal:f}]=D();return{prefixCls:e,t:o,getUserInfo:u,handleMenuClick:function(e){switch(e.key){case"logout":c.confirmLoginOut();break;case"doc":p(n.ACCOUNT_SETTING);break;case"lock":f(!0)}},getShowDoc:i,register:m,getUseLockPage:l}}});const y=["src"];v.render=function(e,o,a,s,t,r){const n=p("MenuItem"),i=p("MenuDivider"),l=p("Menu"),c=p("Dropdown"),d=p("LockAction");return u(),m(j,null,[f(c,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:g((()=>[f(l,{onClick:e.handleMenuClick},{default:g((()=>[e.getShowDoc?(u(),k(n,{key:"doc",text:"个人设置",icon:"ant-design:info-circle-outlined"})):x("",!0),e.getShowDoc?(u(),k(i,{key:1})):x("",!0),e.getUseLockPage?(u(),k(n,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):x("",!0),f(n,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])])),_:1},8,["onClick"])])),default:g((()=>[h("span",{class:_([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[h("img",{class:_(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,y),h("span",{class:_(`${e.prefixCls}__info hidden md:block`)},[h("span",{class:_([`${e.prefixCls}__name  `,"truncate"])},C(e.getUserInfo.realName),3)],2)],2)])),_:1},8,["overlayClassName"]),f(d,{onRegister:e.register},null,8,["onRegister"])],64)};export{v as default};
