var e;"undefined"!=typeof require&&require;import{D as r,r as o,S as t,$ as a,n as s,a0 as i,F as n,G as l,aa as d,ar as u,H as c,J as m,w as p,u as f,a5 as j,ad as b,L as y}from"./vendor.54f9b785.js";import{_ as g}from"./DetailModal.vue_vue&type=script&setup=true&lang.3b324f6b.js";import{u as v,_ as x}from"./useTable.f9f7adae.js";import{_ as h}from"./useForm.c60a0e05.js";import{u as w}from"./index.65d44f44.js";import{f as L,d as _,aa as E}from"./index.e2f51ec9.js";import{getColumns as C}from"./data.23583bd6.js";/* empty css              */import"./index.20bb0a40.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.fcde6c3c.js";import"./useWindowSizeFn.51649442.js";import"./useContentViewHeight.8c473bc3.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useSortable.8cc8dd2e.js";/* empty css              *//* empty css              */(e||(e={})).Error="/error";const R={class:"p-4"},k=["src"];var D=r({setup(r){const D=o(),A=o([]),{t:T}=_(),F=E(),[M,{setTableData:S}]=v({title:T("sys.errorLog.tableTitle"),columns:C(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[q,{openModal:H}]=w();function I(e){D.value=e,H(!0)}function P(){throw new Error("fire vue error!")}function V(){A.value.push(`${(new Date).getTime()}.png`)}function $(){return r=this,o=null,t=function*(){yield L.get({url:e.Error})},new Promise(((e,a)=>{var s=e=>{try{n(t.next(e))}catch(r){a(r)}},i=e=>{try{n(t.throw(e))}catch(r){a(r)}},n=r=>r.done?e(r.value):Promise.resolve(r.value).then(s,i);n((t=t.apply(r,o)).next())}));var r,o,t}return t((()=>F.getErrorLogInfoList),(e=>{a((()=>{S(s(e))}))}),{immediate:!0}),(e,r)=>{const o=i("a-button");return n(),l("div",R,[(n(!0),l(d,null,u(A.value,(e=>c((n(),l("img",{key:e,src:e},null,8,k)),[[m,!1]]))),128)),p(g,{info:D.value,onRegister:f(q)},null,8,["info","onRegister"]),p(f(x),{onRegister:f(M),class:"error-handle-table"},{toolbar:j((()=>[p(o,{onClick:P,type:"primary"},{default:j((()=>[b(y(f(T)("sys.errorLog.fireVueError")),1)])),_:1}),p(o,{onClick:V,type:"primary"},{default:j((()=>[b(y(f(T)("sys.errorLog.fireResourceError")),1)])),_:1}),p(o,{onClick:$,type:"primary"},{default:j((()=>[b(y(f(T)("sys.errorLog.fireAjaxError")),1)])),_:1})])),action:j((({record:e})=>[p(f(h),{actions:[{label:f(T)("sys.errorLog.tableActionDesc"),onClick:I.bind(null,e)}]},null,8,["actions"])])),_:1},8,["onRegister"])])}}});export{D as default};
