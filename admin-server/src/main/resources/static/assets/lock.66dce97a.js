"undefined"!=typeof require&&require;var e=(e,o,t)=>new Promise(((n,r)=>{var s=e=>{try{a(t.next(e))}catch(o){r(o)}},c=e=>{try{a(t.throw(e))}catch(o){r(o)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,c);a((t=t.apply(e,o)).next())}));import{f as o}from"./vendor.54f9b785.js";import{a7 as t,a8 as n,h as r,a9 as s}from"./index.e2f51ec9.js";const c=o({id:"app-lock",state:()=>({lockInfo:t.getLocal(n)}),getters:{getLockInfo(){return this.lockInfo}},actions:{setLockInfo(e){this.lockInfo=Object.assign({},this.lockInfo,e),t.setLocal(n,this.lockInfo,!0)},resetLockInfo(){t.removeLocal(n,!0),this.lockInfo=null},unLock(o){return e(this,null,(function*(){var t;const n=r();if((null==(t=this.lockInfo)?void 0:t.pwd)===o)return this.resetLockInfo(),!0;return yield(()=>e(this,null,(function*(){var e;try{const t=null==(e=n.getUserInfo)?void 0:e.username,r=yield s({username:t,password:o});return r&&this.resetLockInfo(),r}catch(t){return!1}})))()}))}}});export{c as u};
