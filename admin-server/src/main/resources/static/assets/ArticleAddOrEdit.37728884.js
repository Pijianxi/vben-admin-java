"undefined"!=typeof require&&require;var e=(e,t,i)=>new Promise(((s,r)=>{var o=e=>{try{n(i.next(e))}catch(t){r(t)}},a=e=>{try{n(i.throw(e))}catch(t){r(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,a);n((i=i.apply(e,t)).next())}));import{g as t,h as i}from"./useForm.91b099eb.js";import{a as s}from"./article.data.953a6c4c.js";import{g as r,c as o,A as a,d as n}from"./article.563832c8.js";import{D as d,b1 as l,a as c,_ as m,a0 as u,F as p,G as f,w as y}from"./vendor.54f9b785.js";import{a2 as h}from"./index.29cb9d1e.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index.9981dd62.js";import"./useWindowSizeFn.51649442.js";import"./onMountedOrActivated.fcde6c3c.js";import"./upload.79b9af6d.js";var b=d({name:"DeptModal",components:{BasicForm:t},emits:["success","register"],setup(){var t;const[d,{updateSchema:u,validate:p,setFieldsValue:f,resetFields:y}]=i({labelWidth:100,schemas:s,showSubmitButton:!0,submitButtonOptions:{text:"提交"}}),b=l(),j=c(),x=null==(t=b.query)?void 0:t.id,{closeCurrent:v}=h();return m((()=>e(this,null,(function*(){const e=yield r({status:1});if(yield u({field:"categoryId",componentProps:{treeData:e}}),yield y(),x){const e=yield o(Number(x));yield f(e)}})))),{registerForm:d,handleSubmit:function(){return e(this,null,(function*(){try{const e=yield p();if(x){e.id=x,(yield a(e))&&(yield v(),yield j.push({path:"/content/article/info"}))}else{(yield n(e))&&(yield v(),yield j.push({path:"/content/article/info"}))}}finally{}}))}}}});const j={style:{padding:"50px"}};b.render=function(e,t,i,s,r,o){const a=u("BasicForm");return p(),f("div",j,[y(a,{onRegister:e.registerForm,onSubmit:e.handleSubmit},null,8,["onRegister","onSubmit"])])};export{b as default};
