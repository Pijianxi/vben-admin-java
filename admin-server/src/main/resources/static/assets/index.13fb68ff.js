"undefined"!=typeof require&&require;import{_ as e,a as t,u as a}from"./useTable.ef57ec75.js";import{_ as i}from"./useForm.63daa5ff.js";import{e as n,f as o}from"./article.03dc17e6.js";import{a as r}from"./index.b25049f7.js";import l from"./CategoryTree.80713a46.js";import{D as d,P as s,a as c,a0 as u,bc as m,F as p,a1 as f,a5 as h,w as b,H as j,ad as g}from"./vendor.54f9b785.js";import{c as x,s as y}from"./article.data.dc29d508.js";import{j as w}from"./index.2e6c4439.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useWindowSizeFn.51649442.js";import"./index.ddad910d.js";import"./onMountedOrActivated.fcde6c3c.js";/* empty css              */import"./useSortable.3359947c.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useContentViewHeight.fa05df52.js";import"./Tree.vue_vue&type=style&index=0&lang.17a7d87d.js";import"./upload.402dac03.js";var T=d({name:"AccountManagement",components:{BasicTable:e,PageWrapper:r,CategoryTree:l,TableAction:i,TableImg:t},setup(){const e=w(),t=s({}),[i,{reload:r,updateTableDataRecord:l}]=a({title:"账号列表",api:n,rowKey:"id",columns:x,formConfig:{labelWidth:120,schemas:y,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn:e=>e,actionColumn:{width:120,title:"操作",dataIndex:"action",slots:{customRender:"action"}}}),d=c();return{registerTable:i,handleCreate:function(){e("/content/article/article_add")},handleEdit:function(e){d.push({path:"/content/article/article_edit",query:{id:e.id}})},handleDelete:function(e){return t=this,a=null,i=function*(){(yield o(e.id))&&(yield r())},new Promise(((e,n)=>{var o=e=>{try{l(i.next(e))}catch(t){n(t)}},r=e=>{try{l(i.throw(e))}catch(t){n(t)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,r);l((i=i.apply(t,a)).next())}));var t,a,i},handleSuccess:function({isUpdate:e,values:t}){e?l(t.id,t):r()},handleSelect:function(e=""){t.categoryId=e,r()},handleView:function(t){e("/content/article/article_detail/"+t.id)},searchInfo:t}}});const C=g("添加文章");T.render=function(e,t,a,i,n,o){const r=u("CategoryTree"),l=u("a-button"),d=u("TableAction"),s=u("TableImg"),c=u("BasicTable"),g=u("PageWrapper"),x=m("auth");return p(),f(g,{dense:"",contentFullHeight:"",contentClass:"flex"},{default:h((()=>[b(r,{class:"w-1/4 xl:w-1/5",onSelect:e.handleSelect},null,8,["onSelect"]),b(c,{onRegister:e.registerTable,class:"w-3/4 xl:w-4/5",searchInfo:e.searchInfo},{toolbar:h((()=>[j(b(l,{type:"primary",onClick:e.handleCreate},{default:h((()=>[C])),_:1},8,["onClick"]),[[x,"article:btn:add"]])])),action:h((({record:t})=>[b(d,{actions:[{icon:"clarity:info-standard-line",tooltip:"查看文章详情",onClick:e.handleView.bind(null,t),auth:["article:btn:detail"]},{icon:"clarity:note-edit-line",tooltip:"编辑",onClick:e.handleEdit.bind(null,t),auth:["article:btn:edit"]},{icon:"ant-design:delete-outlined",color:"error",tooltip:"删除",auth:["article:btn:delete"],popConfirm:{title:"是否确认删除",confirm:e.handleDelete.bind(null,t)}}]},null,8,["actions"])])),img:h((({text:e})=>[b(s,{size:60,simpleShow:!0,imgList:e},null,8,["imgList"])])),_:1},8,["onRegister","searchInfo"])])),_:1})};export{T as default};
