var r;"undefined"!=typeof require&&require;import{D as e,r as o,S as t,$ as a,n as s,a0 as i,F as n,G as l,aa as d,ar as u,H as c,J as m,w as p,u as f,a5 as j,ad as y,L as b}from"./vendor.54f9b785.js";import{_ as g}from"./DetailModal.vue_vue&type=script&setup=true&lang.61820c9a.js";import{u as v,_ as x}from"./useTable.56664a2f.js";import{_ as h}from"./useForm.1f83b549.js";import{u as w}from"./index.ce2ad58c.js";import{f as L,d as _,aa as E}from"./index.fcdcd43d.js";import{getColumns as C}from"./data.868f42ab.js";/* empty css              */import"./index.07fed524.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.fcde6c3c.js";import"./useWindowSizeFn.51649442.js";import"./useContentViewHeight.52e6f9d3.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useSortable.b48b43c7.js";/* empty css              *//* empty css              */(r||(r={})).Error="/error";const R={class:"p-4"},k=["src"];var D=e({setup(e){const D=o(),A=o([]),{t:T}=_(),F=E(),[M,{setTableData:S}]=v({title:T("sys.errorLog.tableTitle"),columns:C(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[q,{openModal:H}]=w();function I(r){D.value=r,H(!0)}function P(){throw new Error("fire vue error!")}function V(){A.value.push(`${(new Date).getTime()}.png`)}function $(){return e=this,o=null,t=function*(){yield L.get({url:r.Error})},new Promise(((r,a)=>{var s=r=>{try{n(t.next(r))}catch(e){a(e)}},i=r=>{try{n(t.throw(r))}catch(e){a(e)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,i);n((t=t.apply(e,o)).next())}));var e,o,t}return t((()=>F.getErrorLogInfoList),(r=>{a((()=>{S(s(r))}))}),{immediate:!0}),(r,e)=>{const o=i("a-button");return n(),l("div",R,[(n(!0),l(d,null,u(A.value,(r=>c((n(),l("img",{key:r,src:r},null,8,k)),[[m,!1]]))),128)),p(g,{info:D.value,onRegister:f(q)},null,8,["info","onRegister"]),p(f(x),{onRegister:f(M),class:"error-handle-table"},{toolbar:j((()=>[p(o,{onClick:P,type:"primary"},{default:j((()=>[y(b(f(T)("sys.errorLog.fireVueError")),1)])),_:1}),p(o,{onClick:V,type:"primary"},{default:j((()=>[y(b(f(T)("sys.errorLog.fireResourceError")),1)])),_:1}),p(o,{onClick:$,type:"primary"},{default:j((()=>[y(b(f(T)("sys.errorLog.fireAjaxError")),1)])),_:1})])),action:j((({record:r})=>[p(f(h),{actions:[{label:f(T)("sys.errorLog.tableActionDesc"),onClick:I.bind(null,r)}]},null,8,["actions"])])),_:1},8,["onRegister"])])}}});export{D as default};
