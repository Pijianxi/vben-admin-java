"undefined"!=typeof require&&require;var e=(e,t,i)=>new Promise(((s,r)=>{var o=e=>{try{n(i.next(e))}catch(t){r(t)}},a=e=>{try{n(i.throw(e))}catch(t){r(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,a);n((i=i.apply(e,t)).next())}));import{g as t,h as i}from"./useForm.63daa5ff.js";import{a as s}from"./article.data.dc29d508.js";import{g as r,c as o,A as a,d as n}from"./article.03dc17e6.js";import{D as d,b1 as l,a as c,_ as m,a0 as u,F as p,G as f,w as y}from"./vendor.54f9b785.js";import{a2 as h}from"./index.2e6c4439.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index.ddad910d.js";import"./useWindowSizeFn.51649442.js";import"./onMountedOrActivated.fcde6c3c.js";import"./upload.402dac03.js";var j=d({name:"DeptModal",components:{BasicForm:t},emits:["success","register"],setup(){var t;const[d,{updateSchema:u,validate:p,setFieldsValue:f,resetFields:y}]=i({labelWidth:100,schemas:s,showSubmitButton:!0,submitButtonOptions:{text:"提交"}}),j=l(),x=c(),v=null==(t=j.query)?void 0:t.id,{closeCurrent:b}=h();return m((()=>e(this,null,(function*(){const e=yield r({status:1});if(yield u({field:"categoryId",componentProps:{treeData:e}}),yield y(),v){const e=yield o(Number(v));yield f(e)}})))),{registerForm:d,handleSubmit:function(){return e(this,null,(function*(){try{const e=yield p();if(v){e.id=v,(yield a(e))&&(yield b(),yield x.push({path:"/content/article/info"}))}else{(yield n(e))&&(yield b(),yield x.push({path:"/content/article/info"}))}}finally{}}))}}}});const x={style:{padding:"50px"}};j.render=function(e,t,i,s,r,o){const a=u("BasicForm");return p(),f("div",x,[y(a,{onRegister:e.registerForm,onSubmit:e.handleSubmit},null,8,["onRegister","onSubmit"])])};export{j as default};
