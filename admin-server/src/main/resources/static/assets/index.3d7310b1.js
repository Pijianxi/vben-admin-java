var e;"undefined"!=typeof require&&require;import{D as r,r as o,S as t,$ as a,n as s,a0 as i,F as n,G as d,aa as l,ar as u,H as c,J as m,w as f,u as p,a5 as j,ad as y,L as g}from"./vendor.54f9b785.js";import{_ as v}from"./DetailModal.vue_vue&type=script&setup=true&lang.e7addf58.js";import{u as x,_ as b}from"./useTable.ef57ec75.js";import{_ as h}from"./useForm.63daa5ff.js";import{u as w}from"./index.ddad910d.js";import{f as L,d as _,aa as E}from"./index.2e6c4439.js";import{getColumns as C}from"./data.09ab80fb.js";/* empty css              */import"./index.b25049f7.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.fcde6c3c.js";import"./useWindowSizeFn.51649442.js";import"./useContentViewHeight.fa05df52.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useSortable.3359947c.js";/* empty css              *//* empty css              */(e||(e={})).Error="/error";const R={class:"p-4"},k=["src"];var D=r({setup(r){const D=o(),A=o([]),{t:T}=_(),F=E(),[M,{setTableData:S}]=x({title:T("sys.errorLog.tableTitle"),columns:C(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[q,{openModal:H}]=w();function I(e){D.value=e,H(!0)}function P(){throw new Error("fire vue error!")}function V(){A.value.push(`${(new Date).getTime()}.png`)}function $(){return r=this,o=null,t=function*(){yield L.get({url:e.Error})},new Promise(((e,a)=>{var s=e=>{try{n(t.next(e))}catch(r){a(r)}},i=e=>{try{n(t.throw(e))}catch(r){a(r)}},n=r=>r.done?e(r.value):Promise.resolve(r.value).then(s,i);n((t=t.apply(r,o)).next())}));var r,o,t}return t((()=>F.getErrorLogInfoList),(e=>{a((()=>{S(s(e))}))}),{immediate:!0}),(e,r)=>{const o=i("a-button");return n(),d("div",R,[(n(!0),d(l,null,u(A.value,(e=>c((n(),d("img",{key:e,src:e},null,8,k)),[[m,!1]]))),128)),f(v,{info:D.value,onRegister:p(q)},null,8,["info","onRegister"]),f(p(b),{onRegister:p(M),class:"error-handle-table"},{toolbar:j((()=>[f(o,{onClick:P,type:"primary"},{default:j((()=>[y(g(p(T)("sys.errorLog.fireVueError")),1)])),_:1}),f(o,{onClick:V,type:"primary"},{default:j((()=>[y(g(p(T)("sys.errorLog.fireResourceError")),1)])),_:1}),f(o,{onClick:$,type:"primary"},{default:j((()=>[y(g(p(T)("sys.errorLog.fireAjaxError")),1)])),_:1})])),action:j((({record:e})=>[f(p(h),{actions:[{label:p(T)("sys.errorLog.tableActionDesc"),onClick:I.bind(null,e)}]},null,8,["actions"])])),_:1},8,["onRegister"])])}}});export{D as default};
